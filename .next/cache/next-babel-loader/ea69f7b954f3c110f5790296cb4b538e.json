{"ast":null,"code":"var _jsxFileName = \"/Users/nathanielcho/Projects/voter-package/pages/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n// import fetch from 'isomorphic-unfetch';\nimport fetch from 'node-fetch';\nimport { INTRODUCED_BILLS_URL } from '../utils/constants';\nimport Card from \"../components/Card\";\nimport Layout from \"../components/Layout\";\n\nfunction Index(props) {\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 5\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }\n  }, \"Chamber: \", props.recentBills[0].chamber), props.recentBills[0].bills.map((card, index) => __jsx(Card, _extends({\n    key: card.bill_id\n  }, card, {\n    index: index,\n    comments: [],\n    points: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 9\n    }\n  }))));\n}\n\nexport async function getServerSideProps() {\n  const res = await fetch(INTRODUCED_BILLS_URL, {\n    method: 'get',\n    mode: 'cors',\n    headers: {\n      'X-API-Key': process.env.PROPUBLICA_API_KEY\n    }\n  });\n  const data = await res.json();\n  return {\n    props: {\n      recentBills: data.results\n    }\n  };\n}\nexport default Index;","map":{"version":3,"sources":["/Users/nathanielcho/Projects/voter-package/pages/index.js"],"names":["fetch","INTRODUCED_BILLS_URL","Card","Layout","Index","props","recentBills","chamber","bills","map","card","index","bill_id","getServerSideProps","res","method","mode","headers","process","env","PROPUBLICA_API_KEY","data","json","results"],"mappings":";;;;;;AAAA;AACA,OAAOA,KAAP,MAAkB,YAAlB;AACA,SAASC,oBAAT,QAAqC,oBAArC;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AACpB,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAgBA,KAAK,CAACC,WAAN,CAAkB,CAAlB,EAAqBC,OAArC,CADF,EAEGF,KAAK,CAACC,WAAN,CAAkB,CAAlB,EAAqBE,KAArB,CAA2BC,GAA3B,CAA+B,CAACC,IAAD,EAAOC,KAAP,KAC9B,MAAC,IAAD;AAAM,IAAA,GAAG,EAAED,IAAI,CAACE;AAAhB,KAA6BF,IAA7B;AAAmC,IAAA,KAAK,EAAEC,KAA1C;AAAiD,IAAA,QAAQ,EAAE,EAA3D;AAA+D,IAAA,MAAM,EAAE,CAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADD,CAFH,CADF;AAQD;;AAED,OAAO,eAAeE,kBAAf,GAAoC;AACzC,QAAMC,GAAG,GAAG,MAAMd,KAAK,CAACC,oBAAD,EAAuB;AAC5Cc,IAAAA,MAAM,EAAE,KADoC;AAE5CC,IAAAA,IAAI,EAAE,MAFsC;AAG5CC,IAAAA,OAAO,EAAE;AACP,mBAAaC,OAAO,CAACC,GAAR,CAAYC;AADlB;AAHmC,GAAvB,CAAvB;AAOA,QAAMC,IAAI,GAAG,MAAMP,GAAG,CAACQ,IAAJ,EAAnB;AACA,SAAO;AACLjB,IAAAA,KAAK,EAAE;AAAEC,MAAAA,WAAW,EAAEe,IAAI,CAACE;AAApB;AADF,GAAP;AAGD;AAED,eAAenB,KAAf","sourcesContent":["// import fetch from 'isomorphic-unfetch';\nimport fetch from 'node-fetch'\nimport { INTRODUCED_BILLS_URL } from '../utils/constants';\nimport Card from \"../components/Card\";\nimport Layout from \"../components/Layout\";\n\nfunction Index(props) {\n  return (\n    <Layout>\n      <span>Chamber: {props.recentBills[0].chamber}</span>\n      {props.recentBills[0].bills.map((card, index) => (\n        <Card key={card.bill_id} {...card} index={index} comments={[]} points={0} />\n      ))}\n    </Layout>\n  );\n}\n\nexport async function getServerSideProps() {\n  const res = await fetch(INTRODUCED_BILLS_URL, {\n    method: 'get',\n    mode: 'cors',\n    headers: {\n      'X-API-Key': process.env.PROPUBLICA_API_KEY,\n    },\n  });\n  const data = await res.json();\n  return {\n    props: { recentBills: data.results }\n  };\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}